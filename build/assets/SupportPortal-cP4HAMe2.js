import{r as K,j as e,k as N,S as y,C as l,n as c,i as d,B as a}from"./index-zjRW8iId.js";import{S as M,j as U,k as z,F as C,l as L,m as O,n as Q,o as F,p as G,q as W,r as V,T as w,a as k,b as o,c as i,d as S,e as r}from"./table-BS_8AvyP.js";import{K as x}from"./kpi-card-YwSD9JOJ.js";import{I as h}from"./input-C1LvHPEQ.js";import{T as X}from"./textarea-D5tUpYnS.js";import{P as u,R as $,S as R,C as J}from"./status-chip-1PGD-tDo.js";import{S as j}from"./search-DLl-Ahlw.js";import{C as p}from"./calendar-Dzaba7Z6.js";import{T as Y}from"./triangle-alert-DhxQDouV.js";import{T as Z}from"./trending-up-DNIsK2CD.js";import{a as g,C as T,I as _}from"./wrench-CFr7HUCS.js";import"./x-BC9c_VJ1.js";import"./index-DxduiEAQ.js";function ue({onBack:ee}){const[v,n]=K.useState("dashboard"),A=[{title:"Customer Support",items:[{title:"Search Bookings",icon:j,id:"search-bookings"},{title:"Tickets & Complaints",icon:N,id:"tickets"},{title:"Raise Complaint",icon:u,id:"raise-complaint"},{title:"Manual Booking",icon:p,id:"manual-booking"}]},{title:"Operations",items:[{title:"Escalation Tracker",icon:Y,id:"escalations"},{title:"Cancellations & Refunds",icon:$,id:"refunds"},{title:"Coverage Exceptions",icon:y,id:"coverage-exceptions"}]},{title:"Resources",items:[{title:"Knowledge Base",icon:C,id:"knowledge-base"},{title:"Reports & Analytics",icon:Z,id:"reports"}]}],q=[{title:"Open Tickets",value:"23",change:{value:8,type:"decrease",period:"yesterday"},icon:e.jsx(N,{className:"h-4 w-4"}),onClick:()=>n("tickets")},{title:"Bookings Today",value:"1,247",change:{value:12,type:"increase",period:"yesterday"},icon:e.jsx(p,{className:"h-4 w-4"}),onClick:()=>n("search-bookings")},{title:"Refunds Pending",value:"â‚¹12,450",change:{value:5,type:"decrease",period:"yesterday"},icon:e.jsx(_,{className:"h-4 w-4"}),onClick:()=>n("refunds")},{title:"Avg Resolution Time",value:"2.3 hrs",change:{value:15,type:"decrease",period:"last week"},icon:e.jsx(g,{className:"h-4 w-4"}),onClick:()=>{}}],f=[{id:"T12001",customer:"Priya Sharma",booking:"HP12349",subject:"Service quality issue",priority:"high",status:"open",assignee:"Support Agent 1",created:"2 hours ago",sla:"4 hours remaining"},{id:"T12002",customer:"Amit Patel",booking:"HP12350",subject:"Payment not processed",priority:"medium",status:"in-progress",assignee:"Support Agent 2",created:"5 hours ago",sla:"1 hour remaining"},{id:"T12003",customer:"Sunita Roy",booking:"HP12351",subject:"Technician arrived late",priority:"low",status:"pending",assignee:"Unassigned",created:"1 day ago",sla:"SLA breached"}],m=[{id:"CE001",requester:"Rajesh Kumar (Partner - Individual)",service:"AC Repair",requestedArea:"400050",currentCoverage:"400001-400010",reason:"Customer urgent request",status:"pending",requestDate:"Dec 28, 2024",validityRequested:"7 days"},{id:"CE002",requester:"ABC Home Services (Partner - Company / Member: Amit Singh)",service:"Plumbing",requestedArea:"400075",currentCoverage:"400020-400030",reason:"Expand service area",status:"pending",requestDate:"Dec 27, 2024",validityRequested:"30 days"}],B=[{id:"KB001",title:"Explaining tips (100% to technician)",category:"Payments",content:"When customers ask about tips, explain that 100% of tips go directly to the technician. Happro takes no commission from tips.",lastUpdated:"Dec 25, 2024"},{id:"KB002",title:"Handling outside-area requests",category:"Coverage",content:"For services outside coverage area, guide customers to use 'Change location' or explain coverage exceptions process.",lastUpdated:"Dec 20, 2024"},{id:"KB003",title:"Refund processing guidelines",category:"Refunds",content:"Step-by-step process for handling refund requests including documentation requirements.",lastUpdated:"Dec 18, 2024"}],b=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Support Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Customer support and operations overview"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:q.map((s,t)=>e.jsx(x,{...s},t))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(c,{children:e.jsx("h3",{className:"font-semibold",children:"Recent Tickets"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:f.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["#",s.id]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.subject}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.customer})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(R,{status:s.status}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.created})]})]},s.id))})})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx("h3",{className:"font-semibold",children:"Quick Actions"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>n("search-bookings"),children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Search Bookings"]}),e.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>n("raise-complaint"),children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Raise New Complaint"]}),e.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>n("manual-booking"),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Manual Booking Entry"]}),e.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>n("coverage-exceptions"),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Coverage Exceptions (",m.length,")"]})]})})]})]})]}),P=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Tickets & Complaints"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage customer support tickets"})]}),e.jsxs(a,{onClick:()=>n("raise-complaint"),children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"New Complaint"]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(h,{placeholder:"Search tickets...",className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",children:"Open (23)"}),e.jsx(a,{variant:"outline",size:"sm",children:"In Progress (8)"}),e.jsx(a,{variant:"outline",size:"sm",children:"Resolved (145)"})]})]})}),e.jsx(d,{children:e.jsxs(w,{children:[e.jsx(k,{children:e.jsxs(o,{children:[e.jsx(i,{children:"Ticket ID"}),e.jsx(i,{children:"Customer"}),e.jsx(i,{children:"Booking"}),e.jsx(i,{children:"Subject"}),e.jsx(i,{children:"Priority"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Assignee"}),e.jsx(i,{children:"SLA"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(S,{children:f.map(s=>e.jsxs(o,{children:[e.jsxs(r,{className:"font-medium",children:["#",s.id]}),e.jsx(r,{children:s.customer}),e.jsxs(r,{children:["#",s.booking]}),e.jsx(r,{children:s.subject}),e.jsx(r,{children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.priority==="high"?"bg-red-100 text-red-800":s.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:s.priority})}),e.jsx(r,{children:e.jsx(R,{status:s.status})}),e.jsx(r,{children:s.assignee}),e.jsx(r,{children:e.jsx("span",{className:s.sla.includes("breached")?"text-red-600":"text-muted-foreground",children:s.sla})}),e.jsx(r,{children:e.jsx(a,{variant:"ghost",size:"sm",children:"View"})})]},s.id))})]})})]})]}),D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Coverage Exceptions"}),e.jsx("p",{className:"text-muted-foreground",children:"Approve or deny out-of-area service requests"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(x,{title:"Pending Requests",value:m.length.toString(),icon:e.jsx(g,{className:"h-4 w-4"})}),e.jsx(x,{title:"Approved Today",value:"5",change:{value:25,type:"increase",period:"yesterday"},icon:e.jsx(T,{className:"h-4 w-4"})}),e.jsx(x,{title:"Average Response",value:"1.8 hrs",change:{value:12,type:"decrease",period:"last week"},icon:e.jsx(g,{className:"h-4 w-4"})})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx("h3",{className:"font-semibold",children:"Exception Requests Queue"})}),e.jsx(d,{children:e.jsxs(w,{children:[e.jsx(k,{children:e.jsxs(o,{children:[e.jsx(i,{children:"Request ID"}),e.jsx(i,{children:"Requester"}),e.jsx(i,{children:"Service"}),e.jsx(i,{children:"Requested Area"}),e.jsx(i,{children:"Reason"}),e.jsx(i,{children:"Validity"}),e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(S,{children:m.map(s=>e.jsxs(o,{children:[e.jsx(r,{className:"font-medium",children:s.id}),e.jsx(r,{children:s.requester}),e.jsx(r,{children:s.service}),e.jsx(r,{children:s.requestedArea}),e.jsx(r,{children:s.reason}),e.jsx(r,{children:s.validityRequested}),e.jsx(r,{children:s.requestDate}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{size:"sm",className:"bg-success hover:bg-success/90",children:[e.jsx(T,{className:"h-3 w-3 mr-1"}),"Approve"]}),e.jsxs(a,{size:"sm",variant:"destructive",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"Deny"]})]})})]},s.id))})]})})]})]}),I=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Raise New Complaint"}),e.jsx("p",{className:"text-muted-foreground",children:"Create a new support ticket"})]}),e.jsxs(l,{className:"max-w-2xl",children:[e.jsx(c,{children:e.jsx("h3",{className:"font-semibold",children:"Complaint Details"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Customer Phone"}),e.jsx(h,{placeholder:"+91 98765 43210"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Booking ID (Optional)"}),e.jsx(h,{placeholder:"HP12345"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subject"}),e.jsx(h,{placeholder:"Brief description of the issue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),e.jsxs("select",{className:"w-full p-2 border border-border rounded-md",children:[e.jsx("option",{children:"Service Quality"}),e.jsx("option",{children:"Payment Issues"}),e.jsx("option",{children:"Technician Behavior"}),e.jsx("option",{children:"Scheduling Issues"}),e.jsx("option",{children:"Billing Disputes"}),e.jsx("option",{children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Priority"}),e.jsxs("select",{className:"w-full p-2 border border-border rounded-md",children:[e.jsx("option",{children:"Low"}),e.jsx("option",{children:"Medium"}),e.jsx("option",{children:"High"}),e.jsx("option",{children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),e.jsx(X,{placeholder:"Detailed description of the complaint...",rows:4})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(a,{className:"flex-1",children:"Create Complaint"}),e.jsx(a,{variant:"outline",onClick:()=>n("dashboard"),children:"Cancel"})]})]})]})]}),E=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Knowledge Base & Scripts"}),e.jsx("p",{className:"text-muted-foreground",children:"Support resources and standard responses"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:B.map(s=>e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]})}),e.jsxs(d,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.content}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated: ",s.lastUpdated]})]})]},s.id))}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx("h3",{className:"font-semibold",children:"Quick Scripts"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Tips Explanation Script"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:`"I understand your question about tips. At Happro, 100% of any tip you provide goes directly to your technician. We don't take any commission from tips - it's our way of ensuring your appreciation reaches the person who provided the service."`})]}),e.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Coverage Area Script"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:`"I see you're looking for service in an area we don't currently cover. Let me check if any of our technicians can make an exception for your location. Alternatively, you can change your location in the app to see services available in nearby areas."`})]})]})})]})]}),H=()=>{switch(v){case"dashboard":return b();case"tickets":return P();case"coverage-exceptions":return D();case"raise-complaint":return I();case"knowledge-base":return E();default:return b()}};return e.jsx(M,{children:e.jsxs("div",{className:"flex h-screen w-full",children:[e.jsx(U,{children:e.jsx(z,{children:A.map(s=>e.jsxs(L,{children:[e.jsx(O,{children:s.title}),e.jsx(Q,{children:e.jsx(F,{children:s.items.map(t=>e.jsx(G,{children:e.jsxs(W,{onClick:()=>n(t.id),isActive:v===t.id,children:[e.jsx(t.icon,{className:"h-4 w-4"}),e.jsx("span",{children:t.title})]})},t.title))})})]},s.title))})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(V,{title:"Support Portal"}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:H()})]})]})})}export{ue as SupportPortal};
